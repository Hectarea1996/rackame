6865
((3) 0 () 14 ((q lib "rackame/main.rkt") (q 18427 . 16) (q 17557 . 5) (q 510 . 6) (q 1247 . 5) (q 815 . 5) (q 17299 . 5) (q 14025 . 4) (q 12398 . 4) (q 15999 . 8) (q 11310 . 4) (q 1536 . 4) (q 15530 . 5) (q 14448 . 4)) () (h ! (equal) ((c def c (c (? . 0) q rkm-queue-family-index)) c (? . 8)) ((c def c (c (? . 0) q rkm-swapchain?)) c (? . 1)) ((c def c (c (? . 0) q struct:rkm-instance)) c (? . 3)) ((c def c (c (? . 0) q rkm-create-semaphore)) q (17469 . 3)) ((c def c (c (? . 0) q rkm-fence)) c (? . 2)) ((c def c (c (? . 0) q rkm-device)) c (? . 7)) ((c def c (c (? . 0) q rkm-swapchain-device)) c (? . 1)) ((c def c (c (? . 0) q rkm-get-family-queues)) q (13274 . 15)) ((c def c (c (? . 0) q rkm-create-fence)) q (17707 . 3)) ((c def c (c (? . 0) q rkm-fence-vk-fence)) c (? . 2)) ((c def c (c (? . 0) q rkm-create-device)) q (14143 . 7)) ((c def c (c (? . 0) q rkm-window)) c (? . 5)) ((c def c (c (? . 0) q rkm-wait-for-fence)) q (17936 . 5)) ((c def c (c (? . 0) q rkm-instance-vk-instance)) c (? . 3)) ((c def c (c (? . 0) q struct:rkm-semaphore)) c (? . 6)) ((c def c (c (? . 0) q rkm-physical-device?)) c (? . 10)) ((c def c (c (? . 0) q cvar)) q (59 . 4)) ((c def c (c (? . 0) q cvar-ref)) q (183 . 3)) ((c def c (c (? . 0) q rkm-swapchain)) c (? . 1)) ((c def c (c (? . 0) q rkm-command-buffer?)) c (? . 9)) ((c def c (c (? . 0) q rkm-surface-vk-instance)) c (? . 4)) ((c def c (c (? . 0) q rkm-get-family-queue)) q (12538 . 15)) ((c def c (c (? . 0) q make-rkm-swapchain)) c (? . 1)) ((c def c (c (? . 0) q rkm-instance-layers)) c (? . 3)) ((c form c (c (? . 0) q rkm-lambda-submit)) q (14872 . 12)) ((c def c (c (? . 0) q rkm-surface)) c (? . 4)) ((c def c (c (? . 0) q make-rkm-physical-device-features)) c (? . 11)) ((c form c (c (? . 0) q rkm-do-command-buffer)) q (17011 . 5)) ((c def c (c (? . 0) q rkm-window-glfw-window)) c (? . 5)) ((c def c (c (? . 0) q rkm-semaphore-vk-device)) c (? . 6)) ((c def c (c (? . 0) q cvar-set!)) q (234 . 4)) ((c def c (c (? . 0) q rkm-get-physical-device)) q (11472 . 19)) ((c def c (c (? . 0) q rkm-device-vk-device)) c (? . 7)) ((c def c (c (? . 0) q rkm-create-window)) q (975 . 9)) ((c def c (c (? . 0) q rkm-instance)) c (? . 3)) ((c def c (c (? . 0) q rkm-acquire-next-image)) q (19505 . 10)) ((c def c (c (? . 0) q rkm-wait-for-fences)) q (18132 . 7)) ((c def c (c (? . 0) q cvar?)) q (134 . 3)) ((c def c (c (? . 0) q rkm-instance?)) c (? . 3)) ((c def c (c (? . 0) q rkm-fence?)) c (? . 2)) ((c def c (c (? . 0) q cvar-type)) q (309 . 3)) ((c def c (c (? . 0) q rkm-command-pool-vk-command-pool)) c (? . 12)) ((c def c (c (? . 0) q make-rkm-surface)) c (? . 4)) ((c form c (c (? . 0) q rkm-do-command-buffer/proc)) q (17146 . 5)) ((c def c (c (? . 0) q rkm-reset-fence)) q (17787 . 3)) ((c def c (c (? . 0) q rkm-queue-family?)) c (? . 8)) ((c def c (c (? . 0) q make-rkm-window)) c (? . 5)) ((c def c (c (? . 0) q rkm-window?)) c (? . 5)) ((c def c (c (? . 0) q rkm-command-buffer)) c (? . 9)) ((c def c (c (? . 0) q rkm-queue-vk-queue)) c (? . 13)) ((c def c (c (? . 0) q rkm-command-buffer-vk-device)) c (? . 9)) ((c def c (c (? . 0) q rkm-create-command-pool)) q (15714 . 7)) ((c def c (c (? . 0) q struct:rkm-physical-device)) c (? . 10)) ((c def c (c (? . 0) q make-rkm-physical-device)) c (? . 10)) ((c def c (c (? . 0) q rkm-physical-device-features)) c (? . 11)) ((c def c (c (? . 0) q rkm-present-swapchain)) q (19885 . 9)) ((c def c (c (? . 0) q rkm-reset-fences)) q (17855 . 3)) ((c def c (c (? . 0) q rkm-create-surface)) q (1413 . 4)) ((c def c (c (? . 0) q rkm-command-pool-vk-device)) c (? . 12)) ((c def c (c (? . 0) q rkm-semaphore)) c (? . 6)) ((c def c (c (? . 0) q make-rkm-queue)) c (? . 13)) ((c def c (c (? . 0) q rkm-swapchain-image-views)) c (? . 1)) ((c def c (c (? . 0) q make-rkm-queue-family)) c (? . 8)) ((c def c (c (? . 0) q make-cvar*)) q (421 . 4)) ((c def c (c (? . 0) q rkm-begin-command-buffer)) q (16702 . 5)) ((c def c (c (? . 0) q rkm-queue)) c (? . 13)) ((c def c (c (? . 0) q rkm-swapchain-images)) c (? . 1)) ((c def c (c (? . 0) q struct:rkm-surface)) c (? . 4)) ((c def c (c (? . 0) q rkm-physical-device-features?)) c (? . 11)) ((c def c (c (? . 0) q rkm-physical-device)) c (? . 10)) ((c def c (c (? . 0) q rkm-device?)) c (? . 7)) ((c def c (c (? . 0) q make-rkm-device)) c (? . 7)) ((c def c (c (? . 0) q rkm-create-swapchain)) q (18958 . 13)) ((c def c (c (? . 0) q rkm-surface-vk-surface)) c (? . 4)) ((c def c (c (? . 0) q rkm-swapchain-extent)) c (? . 1)) ((c def c (c (? . 0) q rkm-reset-command-buffer)) q (16595 . 3)) ((c def c (c (? . 0) q struct:rkm-command-buffer)) c (? . 9)) ((c def c (c (? . 0) q rkm-create-instance)) q (724 . 3)) ((c def c (c (? . 0) q rkm-command-buffer-cv-command-buffer)) c (? . 9)) ((c def c (c (? . 0) q rkm-window-surface)) c (? . 5)) ((c def c (c (? . 0) q rkm-create-command-buffer)) q (16301 . 8)) ((c def c (c (? . 0) q rkm-swapchain-image-count)) c (? . 1)) ((c def c (c (? . 0) q rkm-command-buffer-vk-command-pool)) c (? . 9)) ((c def c (c (? . 0) q rkm-command-pool?)) c (? . 12)) ((c def c (c (? . 0) q make-rkm-semaphore)) c (? . 6)) ((c def c (c (? . 0) q make-rkm-command-buffer)) c (? . 9)) ((c def c (c (? . 0) q rkm-command-pool)) c (? . 12)) ((c def c (c (? . 0) q rkm-swapchain-vk-swapchain)) c (? . 1)) ((c def c (c (? . 0) q make-rkm-instance)) c (? . 3)) ((c def c (c (? . 0) q rkm-end-command-buffer)) q (16906 . 3)) ((c def c (c (? . 0) q rkm-swapchain-format)) c (? . 1)) ((c def c (c (? . 0) q make-rkm-fence)) c (? . 2)) ((c def c (c (? . 0) q struct:rkm-command-pool)) c (? . 12)) ((c def c (c (? . 0) q rkm-fence-vk-device)) c (? . 2)) ((c def c (c (? . 0) q rkm-create-physical-device-features)) q (1742 . 113)) ((c def c (c (? . 0) q struct:rkm-device)) c (? . 7)) ((c def c (c (? . 0) q rkm-get-device-queues)) q (14561 . 5)) ((c def c (c (? . 0) q rkm-physical-device-features-vk-physical-device-features)) c (? . 11)) ((c def c (c (? . 0) q cvar-ptr)) q (364 . 3)) ((c def c (c (? . 0) q rkm-semaphore?)) c (? . 6)) ((c def c (c (? . 0) q struct:rkm-fence)) c (? . 2)) ((c def c (c (? . 0) q rkm-queue-family)) c (? . 8)) ((c def c (c (? . 0) q rkm-physical-device-vk-physical-device)) c (? . 10)) ((c def c (c (? . 0) q rkm-queue?)) c (? . 13)) ((c def c (c (? . 0) q make-rkm-command-pool)) c (? . 12)) ((c def c (c (? . 0) q struct:rkm-queue-family)) c (? . 8)) ((c def c (c (? . 0) q struct:rkm-swapchain)) c (? . 1)) ((c def c (c (? . 0) q struct:rkm-physical-device-features)) c (? . 11)) ((c def c (c (? . 0) q rkm-instance-extensions)) c (? . 3)) ((c def c (c (? . 0) q struct:rkm-queue)) c (? . 13)) ((c def c (c (? . 0) q struct:rkm-window)) c (? . 5)) ((c def c (c (? . 0) q make-cvar)) q (0 . 3)) ((c def c (c (? . 0) q rkm-queue-submit)) q (14710 . 5)) ((c def c (c (? . 0) q rkm-semaphore-vk-semaphore)) c (? . 6)) ((c def c (c (? . 0) q rkm-surface?)) c (? . 4))))
procedure
(make-cvar type) -> cvar?
  type : ctype?
procedure
(cvar type val) -> cvar?
  type : ctype?
  val : any
procedure
(cvar? v) -> boolean?
  v : any
procedure
(cvar-ref cv) -> any
  cv : cvar?
procedure
(cvar-set! cv val) -> void?
  cv : cvar?
  val : any
procedure
(cvar-type cv) -> ctype?
  cv : cvar?
procedure
(cvar-ptr cv) -> cpointer?
  cv : cvar?
procedure
(make-cvar* cptr type) -> cvar?
  cptr : cpointer?
  type : ctype?
struct
(struct rkm-instance (vk-instance layers extensions)
    #:extra-constructor-name make-rkm-instance)
  vk-instance : VkInstance
  layers : (listof bytes?)
  extensions : (listof bytes?)
procedure
(rkm-create-instance validation) -> rkm-instance?
  validation : boolean?
struct
(struct rkm-window (glfw-window surface)
    #:extra-constructor-name make-rkm-window)
  glfw-window : cpointer?
  surface : rkm-surface?
procedure
(rkm-create-window instance     
                   name         
                   width        
                   height)  -> rkm-window?
  instance : rkm-instance?
  name : string?
  width : integer?
  height : integer?
struct
(struct rkm-surface (vk-instance vk-surface)
    #:extra-constructor-name make-rkm-surface)
  vk-instance : VkInstance
  vk-surface : VkSurface
procedure
(rkm-create-surface instance window) -> rkm-surface?
  instance : rkm-instance?
  window : cpointer?
struct
(struct rkm-physical-device-features (vk-physical-device-features)
    #:extra-constructor-name make-rkm-physical-device-features)
  vk-physical-device-features : VkPhysicalDeviceFeatures
procedure
(rkm-create-physical-device-features                                                                                    
                                     [#:robustBufferAccess robustBufferAccess                                           
                                      #:fullDrawIndexUint32 fullDrawIndexUint32                                         
                                      #:imageCubeArray imageCubeArray                                                   
                                      #:independentBlend independentBlend                                               
                                      #:geometryShader geometryShader                                                   
                                      #:tessellationShader tessellationShader                                           
                                      #:sampleRateShading sampleRateShading                                             
                                      #:dualSrcBlend dualSrcBlend                                                       
                                      #:logicOp logicOp                                                                 
                                      #:multiDrawIndirect multiDrawIndirect                                             
                                      #:drawIndirectFirstInstance drawIndirectFirstInstance                             
                                      #:depthClamp depthClamp                                                           
                                      #:depthBiasClamp depthBiasClamp                                                   
                                      #:fillModeNonSolid fillModeNonSolid                                               
                                      #:depthBounds depthBounds                                                         
                                      #:wideLines wideLines                                                             
                                      #:largePoints largePoints                                                         
                                      #:alphaToOne alphaToOne                                                           
                                      #:multiViewport multiViewport                                                     
                                      #:samplerAnisotropy samplerAnisotropy                                             
                                      #:textureCompressionETC2 textureCompressionETC2                                   
                                      #:textureCompressionASTC_LDR textureCompressionASTC_LDR                           
                                      #:textureCompressionBC textureCompressionBC                                       
                                      #:occlusionQueryPrecise occlusionQueryPrecise                                     
                                      #:pipelineStatisticsQuery pipelineStatisticsQuery                                 
                                      #:vertexPipelineStoresAndAtomics vertexPipelineStoresAndAtomics                   
                                      #:fragmentStoresAndAtomics fragmentStoresAndAtomics                               
                                      #:shaderTessellationAndGeometryPointSize shaderTessellationAndGeometryPointSize   
                                      #:shaderImageGatherExtended shaderImageGatherExtended                             
                                      #:shaderStorageImageExtendedFormats shaderStorageImageExtendedFormats             
                                      #:shaderStorageImageMultisample shaderStorageImageMultisample                     
                                      #:shaderStorageImageReadWithoutFormat shaderStorageImageReadWithoutFormat         
                                      #:shaderStorageImageWriteWithoutFormat shaderStorageImageWriteWithoutFormat       
                                      #:shaderUniformBufferArrayDynamicIndexing shaderUniformBufferArrayDynamicIndexing 
                                      #:shaderSampledImageArrayDynamicIndexing shaderSampledImageArrayDynamicIndexing   
                                      #:shaderStorageBufferArrayDynamicIndexing shaderStorageBufferArrayDynamicIndexing 
                                      #:shaderStorageImageArrayDynamicIndexing shaderStorageImageArrayDynamicIndexing   
                                      #:shaderClipDistance shaderClipDistance                                           
                                      #:shaderCullDistance shaderCullDistance                                           
                                      #:shaderFloat64 shaderFloat64                                                     
                                      #:shaderInt64 shaderInt64                                                         
                                      #:shaderInt16 shaderInt16                                                         
                                      #:shaderResourceResidency shaderResourceResidency                                 
                                      #:shaderResourceMinLod shaderResourceMinLod                                       
                                      #:sparseBinding sparseBinding                                                     
                                      #:sparseResidencyBuffer sparseResidencyBuffer                                     
                                      #:sparseResidencyImage2D sparseResidencyImage2D                                   
                                      #:sparseResidencyImage3D sparseResidencyImage3D                                   
                                      #:sparseResidency2Samples sparseResidency2Samples                                 
                                      #:sparseResidency4Samples sparseResidency4Samples                                 
                                      #:sparseResidency8Samples sparseResidency8Samples                                 
                                      #:sparseResidency16Samples sparseResidency16Samples                               
                                      #:sparseResidencyAliased sparseResidencyAliased                                   
                                      #:variableMultisampleRate variableMultisampleRate                                 
                                      #:inheritedQueries inheritedQueries])                                             
 -> rkm-physical-device-features?
  robustBufferAccess : VkBool32 = #f
  fullDrawIndexUint32 : VkBool32 = #f
  imageCubeArray : VkBool32 = #f
  independentBlend : VkBool32 = #f
  geometryShader : VkBool32 = #f
  tessellationShader : VkBool32 = #f
  sampleRateShading : VkBool32 = #f
  dualSrcBlend : VkBool32 = #f
  logicOp : VkBool32 = #f
  multiDrawIndirect : VkBool32 = #f
  drawIndirectFirstInstance : VkBool32 = #f
  depthClamp : VkBool32 = #f
  depthBiasClamp : VkBool32 = #f
  fillModeNonSolid : VkBool32 = #f
  depthBounds : VkBool32 = #f
  wideLines : VkBool32 = #f
  largePoints : VkBool32 = #f
  alphaToOne : VkBool32 = #f
  multiViewport : VkBool32 = #f
  samplerAnisotropy : VkBool32 = #f
  textureCompressionETC2 : VkBool32 = #f
  textureCompressionASTC_LDR : VkBool32 = #f
  textureCompressionBC : VkBool32 = #f
  occlusionQueryPrecise : VkBool32 = #f
  pipelineStatisticsQuery : VkBool32 = #f
  vertexPipelineStoresAndAtomics : VkBool32 = #f
  fragmentStoresAndAtomics : VkBool32 = #f
  shaderTessellationAndGeometryPointSize : VkBool32 = #f
  shaderImageGatherExtended : VkBool32 = #f
  shaderStorageImageExtendedFormats : VkBool32 = #f
  shaderStorageImageMultisample : VkBool32 = #f
  shaderStorageImageReadWithoutFormat : VkBool32 = #f
  shaderStorageImageWriteWithoutFormat : VkBool32 = #f
  shaderUniformBufferArrayDynamicIndexing : VkBool32 = #f
  shaderSampledImageArrayDynamicIndexing : VkBool32 = #f
  shaderStorageBufferArrayDynamicIndexing : VkBool32 = #f
  shaderStorageImageArrayDynamicIndexing : VkBool32 = #f
  shaderClipDistance : VkBool32 = #f
  shaderCullDistance : VkBool32 = #f
  shaderFloat64 : VkBool32 = #f
  shaderInt64 : VkBool32 = #f
  shaderInt16 : VkBool32 = #f
  shaderResourceResidency : VkBool32 = #f
  shaderResourceMinLod : VkBool32 = #f
  sparseBinding : VkBool32 = #f
  sparseResidencyBuffer : VkBool32 = #f
  sparseResidencyImage2D : VkBool32 = #f
  sparseResidencyImage3D : VkBool32 = #f
  sparseResidency2Samples : VkBool32 = #f
  sparseResidency4Samples : VkBool32 = #f
  sparseResidency8Samples : VkBool32 = #f
  sparseResidency16Samples : VkBool32 = #f
  sparseResidencyAliased : VkBool32 = #f
  variableMultisampleRate : VkBool32 = #f
  inheritedQueries : VkBool32 = #f
struct
(struct rkm-physical-device (vk-physical-device)
    #:extra-constructor-name make-rkm-physical-device)
  vk-physical-device : VkPhysicalDevice
procedure
(rkm-get-physical-device  instance                     
                         [#:surface surface            
                          #:type type                  
                          #:extensions extensions      
                          #:queue-flags queue-flags    
                          #:features wanted-features]) 
 -> rkm-physical-device?
  instance : VkInstance
  surface : VkSurface = #f
  type : VkPhysicalDeviceType
       = VK_PHYSICAL_DEVICE_TYPE_DISCRETE_GPU
  extensions : (listof bytes/nul-terminated)
             = (list VK_KHR_SWAPCHAIN_EXTENSION_NAME)
  queue-flags : VkQueueFlags
              = (bitwise-ior VK_QUEUE_GRAPHICS_BIT
                             VK_QUEUE_TRANSFER_BIT
                             VK_QUEUE_COMPUTE_BIT)
  wanted-features : rkm-physical-device-features = #f
struct
(struct rkm-queue-family (index)
    #:extra-constructor-name make-rkm-queue-family)
  index : nonnegative-exact-integer?
procedure
(rkm-get-family-queue  physical-device                   
                      [#:queue-flags queue-flags         
                       #:surface surface                 
                       #:exclusive-flags exclusive-flags 
                       #:families-out families-out])     
 -> rkm-queue-family?
  physical-device : rkm-physical-device?
  queue-flags : VkQueueFlags
              = (bitwise-ior VK_QUEUE_GRAPHICS_BIT
                             VK_QUEUE_TRANSFER_BIT
                             VK_QUEUE_COMPUTE_BIT)
  surface : VkSurfaceKHR = #f
  exclusive-flags : boolean = #f
  families-out : (listof rkm-queue-family?) = '()
procedure
(rkm-get-family-queues  physical-device                   
                       [#:queue-flags queue-flags         
                        #:surface surface                 
                        #:exclusive-flags exclusive-flags 
                        #:families-out families-out])     
 -> (listof rkm-queue-family?)
  physical-device : rkm-physical-device?
  queue-flags : VkQueueFlags
              = (bitwise-ior VK_QUEUE_GRAPHICS_BIT
                             VK_QUEUE_TRANSFER_BIT
                             VK_QUEUE_COMPUTE_BIT)
  surface : VkSurfaceKHR = #f
  exclusive-flags : boolean = #f
  families-out : (listof rkm-queue-family?) = '()
struct
(struct rkm-device (vk-device)
    #:extra-constructor-name make-rkm-device)
  vk-device : VkDevice
procedure
(rkm-create-device physical-device     
                   device-features     
                   queue-families) -> rkm-device?
  physical-device : rkm-physical-device?
  device-features : rkm-physical-device-features?
  queue-families : (listof rkm-queue-family?)
struct
(struct rkm-queue (vk-queue)
    #:extra-constructor-name make-rkm-queue)
  vk-queue : VkQueue
procedure
(rkm-get-device-queues device queue-family)
 -> (listof rkm-queue?)
  device : rkm-device?
  queue-family : rkm-queue-family?
procedure
(rkm-queue-submit queue submit-infos fence) -> void?
  queue : rkm-queue?
  submit-infos : (listof VkSubmitInfo)
  fence : rkm-fence?
syntax
(rkm-lambda-submit (args ...) [device rkm-device?] expr-or-submit ...)
 
expr-or-submit = 
               | expr
               | (rkm-queue-submit [queue rkm-queue?] [fence rkm-fence?] submit-info ...)
                  
   submit-info = 
               | (rkm-do-submit-info [wait-sems (listof rkm-semaphore?)] [wait-stages (listof VkPipelineStageFlags)] [signal-sems (listof rkm-semaphore?)]
                                     [pool rkm-command-pool?] [reset-pool rkm-command-pool?] command-buffer ...)
                  
command-buffer = (rkm-do-command-buffer expr ...)
struct
(struct rkm-command-pool (vk-command-pool vk-device)
    #:extra-constructor-name make-rkm-command-pool)
  vk-command-pool : VkCommandPool
  vk-device : VkDevice
procedure
(rkm-create-command-pool  device              
                          family-queue        
                         [reset-buffers]) -> rkm-command-pool?
  device : rkm-device?
  family-queue : rkm-queue-family?
  reset-buffers : boolean = #t
struct
(struct rkm-command-buffer (vk-device
                            vk-command-pool
                            cv-command-buffer)
    #:extra-constructor-name make-rkm-command-buffer)
  vk-device : VkDevice
  vk-command-pool : VkCommandPool
  cv-command-buffer : cvar?
procedure
(rkm-create-command-buffer  device             
                            command-pool       
                           [secondary-buffer]) 
 -> rkm-command-buffer?
  device : rkm-device?
  command-pool : rkm-command-pool?
  secondary-buffer : boolean = #f
procedure
(rkm-reset-command-buffer command-buffer) -> void?
  command-buffer : rkm-command-buffer?
procedure
(rkm-begin-command-buffer command-buffer     
                          usage-flags)   -> void?
  command-buffer : rkm-command-buffer?
  usage-flags : VkCommandBufferUsageFlags
procedure
(rkm-end-command-buffer command-buffer) -> void?
  command-buffer : rkm-command-buffer?
syntax
(rkm-do-command-buffer device command-pool bodies ...)
 
  device : rkm-device?
  command-pool : rkm-command-pool?
syntax
(rkm-do-command-buffer/proc (args ...) device command-pool bodies ...)
 
  device : rkm-device?
  command-pool : rkm-command-pool?
struct
(struct rkm-semaphore (vk-device vk-semaphore)
    #:extra-constructor-name make-rkm-semaphore)
  vk-device : VkDevice
  vk-semaphore : VkSemaphore
procedure
(rkm-create-semaphore device) -> rkm-semaphore?
  device : rkm-device?
struct
(struct rkm-fence (vk-device vk-fence)
    #:extra-constructor-name make-rkm-fence)
  vk-device : VkDevice
  vk-fence : VkFence
procedure
(rkm-create-fence device) -> rkm-fence?
  device : rkm-device?
procedure
(rkm-reset-fence fence) -> void?
  fence : VkFence
procedure
(rkm-reset-fences fences) -> void?
  fences : (listof VkFence)
procedure
(rkm-wait-for-fence  fence                   
                    [#:timeout timeout]) -> void?
  fence : VkFence
  timeout : exact-nonnegative-integer? = UINT64_MAX
procedure
(rkm-wait-for-fences  fences                  
                     [#:waitAll waitAll       
                      #:timeout timeout]) -> void?
  fences : (listof VkFence)
  waitAll : boolean? = #t
  timeout : exact-nonnegative-integer? = UINT64_MAX
struct
(struct rkm-swapchain (device
                       vk-swapchain
                       format
                       extent
                       image-count
                       images
                       image-views)
    #:extra-constructor-name make-rkm-swapchain)
  device : rkm-device?
  vk-swapchain : VkSwapchainKHR
  format : VkFormat
  extent : VkExtent2D
  image-count : integer?
  images : (listof VkImage)
  image-views : (listof VkImageView)
procedure
(rkm-create-swapchain physical-device      
                      device               
                      surface              
                      present-families     
                      width                
                      height)          -> rkm-swapchain?
  physical-device : rkm-physical-device?
  device : rkm-device?
  surface : rkm-surface?
  present-families : (listof rkm-queue-families?)
  width : nonnegative-integer?
  height : nonnegative-integer?
procedure
(rkm-acquire-next-image  device                
                         swapchain             
                        [#:semaphore semaphore 
                         #:fence fence])       
 -> exact-nonnegative-integer?
  device : rkm-device?
  swapchain : rkm-swapchain?
  semaphore : rkm-semaphore? = #f
  fence : rkm-fence? = #f
procedure
(rkm-present-swapchain  queue                       
                        swapchain                   
                        image-index                 
                       [#:semaphore semaphore]) -> void?
  queue : rkm-queue?
  swapchain : rkm-swapchain?
  image-index : nonnegative-integer?
  semaphore : rkm-semaphore? = #f
